<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>App Execution</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.1/socket.io.js"></script>
    <script type="text/javascript" charset="utf-8">
        document.addEventListener('DOMContentLoaded', (event) => {
            var socket = io.connect('http://' + document.domain + ':' + location.port);
            socket.on('log', function(msg) {
                var logElement = document.getElementById('logs');
                logElement.innerHTML += msg + '<br>';
                logElement.scrollTop = logElement.scrollHeight;
            });
        });

        function sendInput() {
            var input = document.getElementById('inputField').value;
            fetch('/send_input', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ input: input })
            }).then(response => response.json())
              .then(data => {
                  console.log(data);
              });
        }

        function setDownloadDirectory() {
            var directory = document.getElementById('downloadDirectory').value;
            fetch('/set_download_directory', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ directory: directory })
            }).then(response => response.json())
              .then(data => {
                  console.log(data);
              });
        }
    </script>
</head>
<body>
    <h1>App Execution Logs</h1>
    <div id="logs"></div>
    <input type="text" id="inputField" placeholder="Enter input">
    <button onclick="sendInput()">Send Input</button>

    <h2>Set Download Directory</h2>
    <input type="text" id="downloadDirectory" placeholder="Enter download directory">
    <button onclick="setDownloadDirectory()">Set Directory</button>
</body>
</html>
